@layer theme, base, antd, components, utilities;

@import 'tailwindcss';

@plugin "./../../plugins/tailwind-color";
@plugin "./../../plugins/tailwind-scrollbar";
@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  @font-face {
    font-family: 'DS-Digital';
    font-style: normal;
    font-weight: 400 700;
    font-display: swap;
    src: url('/fonts/digit/DS-DIGI.ttf') format('truetype');
  }

  @font-face {
    font-family: 'Poppins';
    src: url('/fonts/poppins/Poppins-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
  }

  @font-face {
    font-family: 'Poppins';
    src: url('/fonts/poppins/Poppins-SemiBold.ttf') format('truetype');
    font-weight: 600;
    font-style: normal;
  }

  @font-face {
    font-family: 'Poppins';
    src: url('/fonts/poppins/Poppins-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
  }

  body:not(#content-ui) {
    @apply relative font-['Poppins']!;
  }
  * {
    @apply scrollbar:size-1 scrollbar-track:bg-app-100 dark:scrollbar-track:bg-neutral-400 scrollbar-thumb:bg-neutral-400 scrollbar-thumb:rounded-full dark:scrollbar-thumb:bg-neutral-600 selection:bg-app-100 selection:text-app-500;
  }
  label:not(.ant-segmented-item) {
    @apply font-bold text-black text-sm mb-1 block dark:text-white;
  }
  mark {
    @apply bg-app-500 mx-0.5 rounded px-1 whitespace-nowrap text-white;
  }
  .ant-alert-message {
    @apply mb-0! font-bold;
  }
  .ant-alert-message,
  .ant-alert-description {
    @apply text-[12px]! text-black dark:text-neutral-400;
  }
}
@layer components {
  .add-border {
    @apply rounded-md border border-neutral-200  dark:border-neutral-800 p-2;
  }
  .bg-theme {
    @apply bg-white dark:bg-black;
  }
  .bg-theme-dim {
    @apply bg-[#f5f5f5] dark:bg-[#1f1f1f];
  }
  .bg-theme-inverse {
    @apply bg-neutral-950 dark:bg-white;
  }
  .text-theme {
    @apply text-black dark:text-white;
  }
  .text-theme-dim {
    @apply text-gray-700/50 dark:text-neutral-400;
  }
  .text-theme-inverse {
    @apply text-white dark:text-black;
  }
  .border-theme {
    @apply dark:border-neutral-800 border-neutral-200;
  }
  .border-theme-inverse {
    @apply border-neutral-800 dark:border-neutral-200;
  }
  .input-theme {
    @apply border-neutral-200 bg-gray-100 dark:border-black dark:bg-black;
  }
  .bg-grid-pattern {
    @apply bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size-[24px_24px];
  }
  .bg-dotted-pattern {
    @apply bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] bg-size-[16px_16px] dark:bg-[radial-gradient(#000000_1px,transparent_1px)];
  }
  .flex-center {
    @apply flex items-center justify-center;
  }
  .flex-col-center {
    @apply flex flex-col items-center justify-center;
  }
  .ant-form-item-inline {
    @apply w-full;
  }
  .ant-form-item-inline .ant-form-item-control {
    @apply grow-[unset];
  }
  .ant-form-item-inline .ant-form-item-label {
    @apply flex-1;
  }
  .ant-form-item-row .ant-form-item-label {
    @apply pb-0.5;
  }
  .prompt-item {
    @apply flex flex-col p-4 space-y-2 transition-all duration-100 relative  border-b border-solid border-b-neutral-200 dark:border-b-neutral-800;
  }
  .prompt-item.active {
    @apply border-l-4 border-l-app-500;
  }
  .prompt-item::before,
  .prompt-item::after {
    @apply absolute inset-0 opacity-0 transition-opacity duration-500;
    border-radius: inherit;
    content: '';
  }

  .prompt-item:hover::before {
    opacity: 1;
  }

  .prompt-item::before {
    background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), var(--spot-color-light), transparent 40%);
    z-index: 3;
  }

  .prompt-item::after {
    background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), var(--spot-color-light), transparent 40%);
    z-index: 1;
  }
  .underline {
    @apply hover:text-app-500 decoration-app-500 dark:decoration-app-400 dark:hover:decoration-app-500 rounded-sm underline decoration-2 underline-offset-2 transition duration-100;
  }
  .ant-app {
    @apply flex h-[inherit] flex-col;
  }
  .glass {
    @apply to-app-900/10 dark:to-app-500/20 w-full rounded-md bg-linear-to-r from-transparent p-2 backdrop-blur-md backdrop-saturate-100 dark:from-black;
  }
  .font-digital {
    font-family: 'DS-Digital', monospace;
  }
  kbd,
  .kbd {
    @apply mx-1 my-0.5 inline-flex min-h-5 items-center justify-center rounded border border-neutral-200 text-app-500 dark:text-white bg-white px-1.5 py-0.5 text-xs font-semibold shadow-sm dark:border-neutral-800 dark:bg-[#1f1f1f];
  }

  .animate-spark {
    /* 0.8s spark + 1s pause = 1.8s total */
    animation: spark 1.8s ease-out infinite;
  }

  .animate-spark-fast {
    /* 0.5s spark + 1s pause = 1.5s total */
    animation: spark-fast 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  }

  @keyframes spark {
    /* spark happens here */
    0% {
      opacity: 0;
      transform: scale(0.6);
    }

    15% {
      opacity: 1;
      transform: scale(1.1);
    }

    40% {
      opacity: 0.8;
      transform: scale(1);
    }

    /* pause zone */
    60%,
    100% {
      opacity: 0;
      transform: scale(0.8);
    }
  }

  @keyframes spark-fast {
    /* spark */
    0% {
      opacity: 0;
      transform: scale(0.5);
    }

    20% {
      opacity: 1;
      transform: scale(1.15);
    }

    50% {
      opacity: 0.6;
    }

    /* pause */
    65%,
    100% {
      opacity: 0;
      transform: scale(0.7);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-spark,
    .animate-spark-fast {
      animation: none;
    }
  }
}
